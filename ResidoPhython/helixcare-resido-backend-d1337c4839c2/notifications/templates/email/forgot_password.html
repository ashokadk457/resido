{% load static %}
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>{{ email_subject }}</title>
</head>
<body style="font-family: Arial, sans-serif; margin: 0; padding: 20px; background-color: #f4f4f4;">
    <div style="max-width: 600px; margin: 0 auto; background-color: white;">
        {% if logo_url %}
        <div style="padding: 20px; text-align: center;">
            <img src="{{ logo_url }}" alt="Resido Logo" width="120" style="display:block; margin:0 auto 20px;">
        </div>
        {% endif %}
        <div style="background-color: #3B1550; color: white; padding: 30px; text-align: center;">
            <h1 style="margin: 0;">
                {% if email_subject == "Reset Your Password" %}
                    Reset Your Password
                {% else %}
                    Password Reset Request
                {% endif %}
            </h1>
        </div>
        <div style="padding: 30px;">
            <p>Hello {{ user_first_name }},</p>

            {% if email_subject == "Reset Your Password" %}
                <p>You requested a password reset. Use the link below to proceed:</p>

                {% if reset_password_url %}
                    <div style="text-align: center; margin: 30px 0;">
                        <a href="{{ reset_password_url }}"
                           style="display: inline-block; padding: 12px 24px; background-color: #3B1550; color: white; text-decoration: none; font-weight: bold; border-radius: 4px;">
                            Reset Password
                        </a>
                    </div>

                    <p>If the button above doesn't work, copy and paste this link into your browser:</p>
                    <p style="word-break: break-all; color: #3B1550; font-size: 14px;">{{ reset_password_url }}</p>
                {% else %}
                    <p>Please use the One-Time Password (OTP) below to reset your password:</p>

                    <div style="text-align: center; margin: 30px 0;">
                        <div style="display: inline-block; padding: 20px 40px; background-color: #f8f8f8; border: 2px dashed #3B1550; border-radius: 8px;">
                            <p style="font-size: 32px; font-weight: bold; color: #3B1550; margin: 0; letter-spacing: 8px;">{{ otp }}</p>
                        </div>
                    </div>

                    <p style="text-align: center; color: #666; font-size: 14px;">Enter this code to reset your password</p>
                {% endif %}
            {% else %}
                <p>Use the One-Time Password (OTP) below to verify your password reset request:</p>

                <div style="text-align: center; margin: 30px 0;">
                    <div style="display: inline-block; padding: 20px 40px; background-color: #f8f8f8; border: 2px dashed #3B1550; border-radius: 8px;">
                        <p style="font-size: 32px; font-weight: bold; color: #3B1550; margin: 0; letter-spacing: 8px;">{{ otp }}</p>
                    </div>
                </div>

                <p style="text-align: center; color: #666; font-size: 14px;">Enter this code to proceed with password reset</p>
            {% endif %}

            <p>
                <strong>Note:</strong>
                {% if email_subject == "Reset Your Password" %}
                    This link is valid for the next 5 minutes. Didn't request this? Simply ignore the email.
                {% else %}
                    This OTP is valid for the next 5 minutes. Didn't request this? Simply ignore the email.
                {% endif %}
            </p>
        </div>

        <div style="background-color: #FFF; padding: 2rem 2rem; border-top: 1px solid #ddd; text-align: center;">
            <table width="100%" border="0" cellpadding="0" cellspacing="0">
                <tr>
                    <td>
                        <h3 style="font-size: 18px; margin: 0;">Need Help?</h3>
                        <p style="margin: 0; font-size: 16px;">Please send any feedback or queries to</p>
                        <p style="margin: 0; font-size: 16px;">
                            <a href="mailto:support@resido.com" style="font-weight: 600; color: #3B1550;">support@resido.com</a>
                        </p>
                    </td>
                </tr>
                <tr>
                    <td style="height: 20px;"></td>
                </tr>
            </table>
        </div>

        <div style="padding: 20px; text-align: center; color: #666;">
            <p style="margin: 0; font-size: 14px;">Â© All Rights Reserved 2025 Resido, Inc</p>
        </div>
    </div>
</body>
</html>
